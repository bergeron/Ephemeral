{{define "home"}}
<!DOCTYPE HTML>
<html>
    <head>
        {{template "head" .}}
        <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
        <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/pbkdf2.js"></script>
        <script language="javascript" type="text/javascript" src="/static/encrypt.js"></script>
    </head>
    <body>

        {{template "top" .}}

        <div id="whiteStrip" class="alignRelaxed">
            <h1>1. Create a message</h1><br>
            <h1>2. Send the URL to the recipient</h1><br>
            <h1>3. Message is destroyed when read</h1><br>
        </div>

        <br>
        <form action="/create/server/" method="post">
            <textarea id="msgText" class="center" NAME="text" ROWS="9" COLS="50" placeholder="Enter message"></textarea>
            <br>

            <div id="expiration">
                Set expiration (minutes):
                <input type="number" name="expireMinutes" placeholder="None">
            </div>
            <br><br>
            <div class="center" style="display: table">
                <button id="encryptInBrowser" class="submitBtn" type="button" onclick="choosePwd()"> Encrypt in Browser </button>
                &nbsp;
                <input class="submitBtn" type="submit" value="Encrypt on Server">
            </div>

            <div style="text-align:center;margin-top:5px">
                What's the difference? See <a href="/about"> about </a> 
            </div>
        </form>

        <br><Br>
        <hr><br>
        <div id="encryptBox" class="center">
            <form onsubmit="return encrypt(msgText.value, passwordSource.value);" style="overflow: hidden;">
                <input type="radio" name="passwordSource" value="rand" onclick="customPassword.value='';customPassword.disabled=true" checked> 
                    Random 128 bit password<br>
                <input type="radio" name="passwordSource" value="custom" onclick="customPassword.disabled=false"> 
                    Custom password: <input id="customPassword" type="text" disabled> <br>
                <br>
                <button id="createBtn" class="submitBtn" style="float: right;">Create</button>
            </form>

            <br><hr><br>
            
            <div id="result" class="center">
                Give recipient this message:<br>
                <div id="finishedMessage" class="well700">
                </div>
            </div>

        </div>

    </body>
</html>
{{end}}
